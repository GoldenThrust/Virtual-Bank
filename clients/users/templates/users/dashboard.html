{% extends 'users/base.html' %}
{% load static %}
{% load accounts_tags %}
{% block content %}
  {% include 'users/includes/header.html' %}
  <main class="float-end">
    <div>
      {% if request.user.account_set.all %}
        <div>
          <span>
            <div>
              <p class="text-success">
                Welcome!, <span class="fs-3 fw-bold">{{ request.user.get_full_name }}</span>
              </p>
              <p class="fw-semibold fs-1">{{ request.session.account.currency|currency_to_unicode|safe }}{{ request.session.account.balance }}</p>
              <p class="fw-semibold">
                Account Number: <span class="fs-4">{{ request.session.account.number }}</span>
              </p>
              <div class="d-flex justify-space-between">
                <span id="quick-transfer" class="border border-success rounded-2">Quick Transfer</span>
                <span id="quick-deposit">Quick Deposit</span>
              </div>
            </div>
            <div>
              <h2>Recent Transactions:</h2>
              <ul>
                {% for transaction in recent_transactions %}
                  <li>{{ transaction.partner }} - {{ transaction.transaction_type }} - ${{ transaction.amount }}</li>
                {% endfor %}
              </ul>
            </div>
          </span>
          <span>
            <div></div>
            <div></div>
          </span>
        </div>
        <div>
          <div></div>
          <div></div>
        </div>
      {% else %}
        <p class="text-success">
          Welcome!, <span class="fs-3 fw-bold">{{ request.user.get_full_name }}</span>
        </p>
        <p class="text-center fs-3 my-5">Now that you're part of our community, let's ensure you have a smooth experience while testing transactions and exploring our features.</p>
        <p class="text-center fs-2 fw-semibold m-5">Click the button below to Create an Account.</p>
        <div id="welcome-create-account-btn" class="m-auto center border rounded-pill bg-success text-white text-center">Create Account</div>
      {% endif %}
    </div>
  </main>
  {% include 'users/includes/footer.html' %}
  <script type="module" src="{% static 'users/scripts/dashboard.js' %}"></script>
{% endblock %}
